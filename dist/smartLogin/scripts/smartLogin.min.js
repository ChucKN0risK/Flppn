var smartLogin=function(){this.$host=smartLoginHost,this.$el=this.$host.shadowRoot.querySelector("#modalWrapper"),this.$form=this.$el.querySelector("#smartLoginForm"),this.$username=this.$el.querySelector("#smartLoginUsername"),this.$password=this.$el.querySelector("#smartLoginPassword"),this.$formSubmit=this.$el.querySelector("#smartLoginSubmit"),this.$closeButton=this.$el.querySelector(".js-modal-close"),this.$errorWrapper=this.$el.querySelector("#errorWrapper"),this.isShown=!1,this.events()};smartLogin.prototype={events:function(){var e=this;e.$closeButton.addEventListener("click",function(){e.close()}),e.$formSubmit.addEventListener("click",function(t){t.preventDefault(),e.login()})},toggle:function(){this.isShown?this.close():this.open()},open:function(){this.$el.classList.add("is-active"),this.isShown=!0,this.$el.style.visibility="visible"},close:function(){this.$el.classList.remove("is-active"),this.isShown=!1},login:function(){var e=this,t=e.$username.value,o=e.$password.value;signin(t,o,function(t,o){return t?(e.$errorWrapper.style.opacity="1",console.log("error : ",t)):(e.close(),smartSaveMenu.getUserCollections(),void smartSaveMenu.toggle())})}};var xhr=new XMLHttpRequest;xhr.open("GET",chrome.extension.getURL("smartLogin/smartLogin.html"),!0),xhr.onload=function(){var e=document.createElement("div");e.style.zIndex="958575959",e.style.position="fixed",e.style.top="0",e.style.left="0",e.innerHTML=this.responseText,document.body.appendChild(e);var t=document.querySelector("#smartLoginHost").createShadowRoot(),o=document.querySelector("#smartLoginTemplate"),s=document.importNode(o.content,!0);t.appendChild(s),login=new smartLogin},xhr.send();